plugins {
    id 'java'
}

configurations {
    shade
    compile.extendsFrom shade
}

group 'io.github.mosadie'
version '1.0'

repositories {
    mavenCentral()
    maven { url 'https://jitpack.io' }
}

dependencies {
    shade 'com.github.MoSadie.PublicAPI:Java:3d31d1fdc1'
}

jar {
    manifest {
        attributes([
                "Specification-Title": "awayfromauction-cache",
                "Specification-Vendor": "MoSadie",
                "Specification-Version": "1", // We are version 1 of ourselves
                "Implementation-Title": project.name,
                "Implementation-Version": "${version}",
                "Implementation-Vendor" :"MoSadie",
                "Implementation-Timestamp": new Date().format("yyyy-MM-dd'T'HH:mm:ssZ"),
                "Main-Class": "io.github.mosadie.awayfromauctioncache.Main"
        ])
    }
    configurations.shade.each { dep ->
        from(project.zipTree(dep)){
            exclude 'META-INF', 'META-INF/**'
        }
    }
}